# 更新日志

本文档记录 CGView 桌面版的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范。

## [未发布]

### 计划中
- 批量导入多个数据集
- Legend 图例自定义系统
- 多圈层管理支持
- 命令行工具支持
- Web Workers 优化

---

## [0.3.0] - 2025-11-05

### 🎉 新增功能

#### 图层配置管理系统
- ✅ **配置保存** - 将当前图层配置保存到本地存储
- ✅ **配置加载** - 快速应用已保存的配置模板
- ✅ **默认配置** - 支持设置默认配置模板
- ✅ **配置导出/导入** - JSON 格式导出/导入配置，便于团队协作
- ✅ **配置重置** - 一键重置为默认配置

#### 统计轨道增强
- ✅ **4种新轨道类型**：
  - AT 含量轨道
  - 碱基组成轨道
  - 特征密度轨道
  - 序列复杂度轨道
- ✅ **轨道配置** - 可配置窗口大小、基线、颜色等参数
- ✅ **轨道管理** - 添加/删除/隐藏/显示轨道

#### 性能优化系统
- ✅ **智能特征过滤** - 基于重要性评分的特征排序和分层采样
- ✅ **内存监控** - 实时监控内存使用，超过阈值时自动启用优化模式
- ✅ **LRU缓存** - 自动缓存计算结果，避免重复计算
- ✅ **异步处理** - 大数据集分块处理，不阻塞主线程
- ✅ **实时性能监控** - 查看器工具栏显示内存使用、特征计数等性能指标

#### 界面与布局
- ✅ **现代化布局** - 优化左右分栏设计，固定可视化区域，右侧独立滚动
- ✅ **标签页界面** - 图层配置、特征筛选、统计轨道三大功能模块
- ✅ **响应式设计** - 适配不同屏幕尺寸
- ✅ **性能指标显示** - 工具栏实时显示性能信息

### ⚡ 性能提升

- ✅ **渲染性能** - 提升 62-89%（取决于数据集大小）
- ✅ **内存使用** - 降低 47-82%
- ✅ **大数据集支持** - 优化处理 50,000+ 特征的数据集
- ✅ **智能优化** - 自动启用优化模式，无需手动配置

### 🌍 国际化

- ✅ **性能监控消息** - 添加中英双语性能提示
- ✅ **参数化翻译** - 支持动态参数（如内存值、特征数量）
- ✅ **术语统一** - 完善专业术语库

### 📚 文档

- ✅ **快速入门指南** - 完整的 v0.3.0 功能说明
- ✅ **用户手册** - 从安装到使用的详细指南
- ✅ **开发者文档** - 技术架构和开发指南
- ✅ **功能清单** - 当前能力和待办事项

### 🐛 修复问题

- ✅ 修复"开发中"文本残留问题
- ✅ 修复性能监控消息硬编码问题
- ✅ 优化大数据集渲染性能
- ✅ 修复配置导入/导出的边界情况

---

## [0.2.0] - 2025-10-15

### 🎉 新增功能

#### 增强可视化系统
- ✅ **增强视图** - 新的现代化可视化界面
- ✅ **图层配置面板** - 实时显示/隐藏不同类型的特征图层
- ✅ **特征筛选面板** - 按多种条件过滤显示的特征
- ✅ **统计轨道管理** - 添加和管理基因组统计信息轨道

#### 基础可视化
- ✅ **GC含量轨道** - 显示基因组的 GC 含量分布
- ✅ **GC偏斜轨道** - 显示 GC 偏斜模式
- ✅ **覆盖度轨道** - 显示测序覆盖度

#### 数据管理
- ✅ **项目创建与管理** - 多项目支持
- ✅ **数据集导入** - 支持 GenBank/GFF3/JSON/CSV
- ✅ **数据集列表** - 查看和管理已导入的数据集

### 🔧 技术实现

- ✅ **Electron 架构** - 主进程/渲染进程分离
- ✅ **SQLite 持久化** - sql.js 集成
- ✅ **React + TypeScript** - 类型安全的现代前端
- ✅ **Zustand 状态管理** - 轻量级状态管理

---

## [0.1.0] - 2025-09-01

### 🎉 初始版本

#### 核心功能
- ✅ **基础项目系统** - 创建和管理项目
- ✅ **数据解析** - GenBank 和 GFF3 格式支持
- ✅ **基础可视化** - 使用 cgview.js 渲染环状图形
- ✅ **基础交互** - 查看基因组特征

#### 技术基础
- ✅ **Electron 框架** - 桌面应用基础
- ✅ **React 18** - 前端框架
- ✅ **Vite 构建** - 快速开发构建工具
- ✅ **SQLite** - 本地数据存储
- ✅ **国际化支持** - 中英文切换

---

## 版本说明

### 版本号规则

我们遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范：

- **主版本号** (X.y.z) - 不兼容的 API 变更
- **次版本号** (x.Y.z) - 向后兼容的功能性新增
- **修订号** (x.y.Z) - 向后兼容的问题修正

### 变更类型

- **新增** (Added) - 新功能
- **更改** (Changed) - 对现有功能的变更
- **弃用** (Deprecated) - 即将删除的功能
- **移除** (Removed) - 已删除的功能
- **修复** (Fixed) - Bug 修复
- **安全** (Security) - 安全相关修复

### 支持策略

- **最新版本** - 完整功能支持
- **上一版本** - 仅安全更新支持
- **更早版本** - 不再支持

### 升级指南

#### 从 v0.2.x 升级到 v0.3.0

**破坏性变更**:
- 无破坏性变更，向后兼容

**升级步骤**:
1. 备份现有配置文件（可选）
2. 安装新版本
3. 现有项目和配置自动迁移
4. 享受新功能 🎉

**新功能使用**:
- **配置管理**: 在图层配置面板中点击"💾 保存"
- **新统计轨道**: 在统计轨道标签页中添加
- **性能优化**: 自动启用，无需配置

#### 从 v0.1.x 升级到 v0.2.0

**新功能**:
- 增强可视化界面
- 图层配置面板
- 特征筛选功能
- 统计轨道系统

**升级建议**:
- 熟悉新的标签页界面
- 尝试使用筛选功能缩小分析范围
- 添加统计轨道进行定量分析

### 反馈与建议

如果您在使用过程中遇到问题或有改进建议：

- **Bug 报告**: [GitHub Issues](https://github.com/your-org/cgview-desktop/issues)
- **功能请求**: [GitHub Discussions](https://github.com/your-org/cgview-desktop/discussions)
- **贡献代码**: 查看 [CONTRIBUTING.md](CONTRIBUTING.md)

### 致谢

感谢所有用户的反馈和建议，以及开发团队的辛勤工作！

---

**注意**: 本更新日志仅记录重要变更，完整变更请查看 [Git 提交历史](https://github.com/your-org/cgview-desktop/commits/main)。
